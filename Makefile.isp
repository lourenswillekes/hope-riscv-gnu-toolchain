.PHONY: all
.PHONY: install
.PHONY: clean
.PHONY: rv32

ISP_PREFIX ?= $(HOME)/.local/isp/

all: rv32

rv32: build32/Makefile
	$(MAKE) -C build32

build32/Makefile:
	mkdir build32
	cd build32; ../configure --prefix=$(ISP_PREFIX) --with-arch=rv32ima --with-abi=ilp32

install:
	$(MAKE) -C build32 install

clean:
	$(RM) -r build32
